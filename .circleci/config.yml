version: 2.1
orbs:
  # "cypress-io/cypress@3" installs the latest published
  # version "s.x.y" of the orb. We recommend you then use
  # the strict explicit version "cypress-io/cypress@3.x.y"
  # to lock the version and prevent unexpected CI changes
  cypress: cypress-io/cypress@3.3.1

jobs:
  cypress-run:
    executor:
      parameters:
        name: node/default
        tag: 18.17.0
    steps:
      - cypress/install
      - cypress/run-tests:
          start-command: "npm run dev"
          cypress-command: "npx cypress run"

workflows:
  build:
    jobs:
      - cypress-run
